Linux-vi-vim-command
====================
testtestete
受講日　2014/04/16

自分用のまとめ

~~書いておかないと100%忘れるため~~

ここに書かれていることは確実ではありません。
曖昧であったり正確でない、間違っていることもあります。


#**Linuxについて**

Linuxは主にキーボードだけで操作する。
各命令（プログラム？）に対応するコマンドを打つことで実行。

コマンドは”$ ”や”# ”の後に書くor書かれている(表記する)。
$が(一般)ユーザー、#がroot


rootはLinuxにおける管理者のようなもので、windowsのAdministratorにあたる。
普通は一般ユーザーを使用し、必要に応じてrootの権限で命令を実行する。
常にrootだと、システムの深いところまで手が届くので、ちょっとしたことが致命的ミスになることも想定されるためである。



##Linux(ubuntu)のコマンド

とりあえず習ったことを列挙。オプションはほとんど無視。

#####補足：~~はコマンド、[]はファイル名を表す。隠しファイルはファイル名の前に.が付いている


|実行コマンド|内容|
|:----------------|:-----------------------|
|cd|ディレクトリ移動|
|ls|今いるディレクトリ内のファイルを表示（通常ファイル）|
|ls -a|今いるディレクトリ内のファイルを表示(隠しファイル含む)|
|ls -l|今いるディレクトリ内のファイルの詳細を表示(権限や所持ユーザー等)|
|pwd|今いるディレクトリの場所を表示|
|man ~~|コマンドのマニュアル|
|~~ --help|コマンドのヘルプ（manとどう違うのかは忘れた）|
|cat|ファイルの内容を表示？(.txtとか)|
|echo|入力結果を表示？|
|echo xx > []|入力結果を書きこみ|
|ps|プロセスを表示|
|ps ax|全てのプロセスを表示|
|chmod ---|ファイルの権限を変更。変更レベルは―――に入る数字3ケタで決定|
|mkdir []|新しいディレクトリを作成|
|rm []|ファイルやフォルダを消去|
|sudo ~~|root権限で実行|
|kill -9 ----|プロセスを強制終了(――――にはプロセス番号が入る)|
|~~ &|コマンドをバックグラウンドで動作|
|~~ .|.は今いる場所を指定|
|~~ ｜ less|別枠で表示|
|~~ ｜ grep []|実行結果の内[]を含むものを表示|
|sudo useradd []|新しいユーザーを作成|
|sudo passwd []|ユーザーのパスワードを変更|
|su - []|ユーザーの切替|
|sudo apt-get install ~~|コマンドをインストール？|
|clear|コマンドラインを綺麗にする|
|cron|決められた時間に指定したコマンドを実行|
|locate|検索ワードを指定して検索|
|tree|今いるディレクトリ内の構造をツリー状に表示|
|exit|終了|
|ifconfig|ipアドレスとかその辺を表示。ipconfigとの混同に注意|
|vi []|vi起動|
|tabキー|ファイル名などを途中まで書きこんで押すと、該当するものが補完されて出てくる|



#viについて
viはLinuxのテキストエディタの一種。

編集モードとコマンドモードを切り替えて操作する(他にもモードがあるらしい)。

機能を拡張したものでvimというものがある。vimが使いやすいが、viしか入れていないPCもあるため、viの扱いにも慣れておきたい。

コマンドモード中、`:!~~`とすれば、vi起動中にCLI(viではなく通常のコマンドライン)のコマンドが使える。


##viのコマンド
|実行コマンド|内容|
|:--------------|:-------------------|
|i|カーソルの左から編集モードへ切替|
|o|カーソルの次の行に改行してそこから編集モードへ切替|
|Escキー|コマンドモードに切り替え|
|h|カーソルを左に移動|
|j|カーソルを下に移動|
|k|カーソルを上に移動|
|l|カーソルを右に移動|
|_yy|指定した行数分コピー。yyで1行コピー|
|_dd|指定した行数分切り取り。ddで1行切り取り|
|x|カーソルと重なってる文字を削除(1文字)|
|ZZ|終了|
|p|コピーしたものを貼付|
|:w|ファイルに保存|
|:q|保存せず終了|
|:wq|保存して終了|
|:q!|強制終了|
|:!|編集中にコマンドを実行|
|:%s/A/B/g|AをBに置換。最後のgがあるとエディタ内全体を対象として置換|
|c + w|機械が予測して単語ごとに削除。たまにバカになる|
|||


#その他
- .bashrcファイルに、エイリアスを`$ alias A = ~~　`のように追加すると、コマンドをAという入力で書くことが出来る。コマンドの入力の短縮化(ショートカットキー) に使える。
- ただし、db(データベース？)に書きこまれてなければいけないので、.bashrcを編集したら、`$ source .bashrc`コマンドでdbに上書きする必要がある。

#####例: `alias cl = clear`　とすると、`$ cl`でclearを実行しコマンドラインを掃除


###cron
- windowsのタスクスケジューラと似たような役割で、指定した時間に指定したコマンドを実行させることが出来る。下のupdatedbもこれで行うといいかもしれない。


###locate
- さきに、`$ updatedb`を実行。dbにある全ディレクトリ情報から、指定したワードを検索して表示する。| lessと組み合わせると使いやすい。

###tree
- 今いるディレクトリ内の構造をツリー上に表示する。


チートシートで調べて見やすいページを

|はパイプと呼ぶ
